# Solo Marathon - Gameplay Flow

## Entry Point
Home â†’ "ĞœĞ°Ñ€Ğ°Ñ„Ğ¾Ğ½" â†’ Shows:
- Personal best (e.g., "Ğ ĞµĞºĞ¾Ñ€Ğ´: 87")
- Current lives: â¤ï¸â¤ï¸â¤ï¸
- Available bonuses: ğŸ›¡ï¸Ã—2 ğŸ”€Ã—1 â„ï¸Ã—3
- Weekly rank (if played this week)

---

## Game Flow

### 1. Pre-Start Screen
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸƒ ĞœĞĞ ĞĞ¤ĞĞ                         â”‚
â”‚                                     â”‚
â”‚  Ğ¢Ğ²Ğ¾Ğ¹ Ñ€ĞµĞºĞ¾Ñ€Ğ´: 87 Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…         â”‚
â”‚  Ğ­Ñ‚Ğ° Ğ½ĞµĞ´ĞµĞ»Ñ: #342                   â”‚
â”‚                                     â”‚
â”‚  Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ±Ğ¾Ğ½ÑƒÑÑ‹:                  â”‚
â”‚  ğŸ›¡ï¸ Ã— 2   ğŸ”€ Ã— 1   â„ï¸ Ã— 3          â”‚
â”‚                                     â”‚
â”‚  ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ°:                           â”‚
â”‚  â€¢ 3 Ğ¶Ğ¸Ğ·Ğ½Ğ¸, Ğ¾ÑˆĞ¸Ğ±ĞºĞ° = -1 Ğ¶Ğ¸Ğ·Ğ½ÑŒ       â”‚
â”‚  â€¢ Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ñ€Ğ°ÑÑ‚Ñ‘Ñ‚ ÑĞ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½ĞµĞ¼     â”‚
â”‚  â€¢ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ±Ğ¾Ğ½ÑƒÑÑ‹ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ‡ĞµÑĞºĞ¸   â”‚
â”‚                                     â”‚
â”‚  [      ĞĞĞ§ĞĞ¢Ğ¬ ĞœĞĞ ĞĞ¤ĞĞ      ]       â”‚
â”‚                                     â”‚
â”‚  [ Ğ›Ğ¸Ğ´ĞµÑ€Ğ±Ğ¾Ñ€Ğ´ ]  [ ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½ Ğ±Ğ¾Ğ½ÑƒÑĞ¾Ğ² ] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. Question Screen (In-Game)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸƒ ĞœĞ°Ñ€Ğ°Ñ„Ğ¾Ğ½          Ğ¡Ñ‡Ñ‘Ñ‚: 23/23 âœ“  â”‚
â”‚  â¤ï¸â¤ï¸â¤ï¸                    â±ï¸ 00:11  â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                     â”‚
â”‚  Ğ’ ĞºĞ°ĞºĞ¾Ğ¼ Ğ³Ğ¾Ğ´Ñƒ Ğ±Ñ‹Ğ» Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½ Ğ Ğ¸Ğ¼?      â”‚
â”‚  (Ğ¿Ğ¾ Ğ»ĞµĞ³ĞµĞ½Ğ´Ğµ)                       â”‚
â”‚                                     â”‚
â”‚  [ A. 753 Ğ³. Ğ´Ğ¾ Ğ½.Ñ.      ]         â”‚
â”‚  [ B. 509 Ğ³. Ğ´Ğ¾ Ğ½.Ñ.      ]         â”‚
â”‚  [ C. 27 Ğ³. Ğ´Ğ¾ Ğ½.Ñ.       ]         â”‚
â”‚  [ D. 476 Ğ³. Ğ½.Ñ.         ]         â”‚
â”‚                                     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  Ğ‘Ğ¾Ğ½ÑƒÑÑ‹:                            â”‚
â”‚  [ ğŸ›¡ï¸Ã—2 ] [ ğŸ”€Ã—1 ] [ â­ï¸Ã—0 ] [ â„ï¸Ã—3 ] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**UI Elements:**
- **Top:** Score = "Correct/Total âœ“" (e.g., 23/23 means no mistakes yet)
- **Lives:** Visual hearts (â¤ï¸ = active, ğŸ–¤ = lost)
- **Timer:** Countdown (color changes: green â†’ yellow â†’ red)
- **Bonuses:** Active buttons (grayed if 0 quantity)

**Timer behavior:**
- Questions 1-10: 15 seconds
- Questions 11-25: 12 seconds
- Questions 26-50: 10 seconds
- Questions 51+: 8 seconds

**Difficulty indicators:**
- Question number visible (e.g., "Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 47")
- No explicit "Easy/Hard" label

---

### 3. Bonus Usage

#### Using Shield ğŸ›¡ï¸
```
Player taps Shield BEFORE answering
â†’ Visual indicator: "ğŸ›¡ï¸ ĞĞºÑ‚Ğ¸Ğ²ĞµĞ½" above question
â†’ If answer wrong: Shield consumed, NO life lost
â†’ If answer correct: Shield NOT consumed (saved)
```

#### Using 50/50 ğŸ”€
```
Player taps 50/50
â†’ 2 wrong answers fade out instantly
â†’ 2 answers remain
â†’ Bonus consumed (regardless of correctness)
```

#### Using Skip â­ï¸
```
Player taps Skip
â†’ Question skipped immediately
â†’ Next question appears
â†’ NO score increment (doesn't count as wrong)
â†’ NO life lost
```

#### Using Freeze â„ï¸
```
Player taps Freeze
â†’ Timer +10 seconds instantly
â†’ Visual effect: â„ï¸ animation
â†’ Can use multiple freezes on same question
```

---

### 4. Answer Feedback (Immediate)

**Correct Answer:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          âœ… ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ!              â”‚
â”‚                                     â”‚
â”‚  Ğ¢Ğ²Ğ¾Ğ¹ ÑÑ‡Ñ‘Ñ‚: 24/24 âœ“                 â”‚
â”‚                                     â”‚
â”‚  [ Ğ”Ğ°Ğ»ĞµĞµ ]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
Duration: 1.5 seconds â†’ Auto-advance

**Wrong Answer (with lives left):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          âŒ ĞĞ•ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ              â”‚
â”‚                                     â”‚
â”‚  ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚: A. 753 Ğ³. Ğ´Ğ¾ Ğ½.Ñâ”‚
â”‚  -1 Ğ¶Ğ¸Ğ·Ğ½ÑŒ: â¤ï¸â¤ï¸ğŸ–¤                   â”‚
â”‚  Ğ¡Ñ‡Ñ‘Ñ‚: 23/24                        â”‚
â”‚                                     â”‚
â”‚  [ ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ ]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
Duration: 3 seconds (read answer) â†’ Continue

**Wrong Answer (last life) â†’ See section 5**

---

### 5. Game Over Screen
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ğŸ’€ Ğ˜Ğ“Ğ Ğ ĞĞšĞĞĞ§Ğ•ĞĞ            â”‚
â”‚                                     â”‚
â”‚  Ğ¢Ğ²Ğ¾Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: 47 Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…      â”‚
â”‚  Ğ›Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ñ€ĞµĞºĞ¾Ñ€Ğ´: 87                  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Ğ¥Ğ¾Ñ‡ĞµÑˆÑŒ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ?         â”‚    â”‚
â”‚  â”‚  ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸ ĞµÑ‰Ñ‘ Ğ¾Ğ´Ğ½Ñƒ Ğ¶Ğ¸Ğ·Ğ½ÑŒ!     â”‚    â”‚
â”‚  â”‚                             â”‚    â”‚
â”‚  â”‚  [ 200 ğŸ’° ] Ğ¸Ğ»Ğ¸ [ ğŸ“º ]      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚  [ Ğ—Ğ°ĞºĞ¾Ğ½Ñ‡Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ±ĞµĞ³ ]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Continue options:**
1. Pay 200 coins
2. Watch rewarded ad
3. Decline â†’ Go to results

If continued:
- +1 life (â¤ï¸)
- Resume from same question
- Next continue costs more (400, 600, ...)

---

### 6. Results Screen (Final)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ Ğ¤Ğ˜ĞĞĞ›Ğ¬ĞĞ«Ğ™ Ğ Ğ•Ğ—Ğ£Ğ›Ğ¬Ğ¢ĞĞ¢             â”‚
â”‚                                     â”‚
â”‚  ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²: 47             â”‚
â”‚  Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ±Ğ¾Ğ½ÑƒÑĞ¾Ğ²:              â”‚
â”‚    â€¢ ğŸ›¡ï¸ Ğ©Ğ¸Ñ‚: 2                     â”‚
â”‚    â€¢ â„ï¸ Ğ—Ğ°Ğ¼Ğ¾Ñ€Ğ¾Ğ·ĞºĞ°: 3                â”‚
â”‚                                     â”‚
â”‚  Ğ¢Ğ²Ğ¾Ğ¹ Ñ€ĞµĞºĞ¾Ñ€Ğ´: 87                    â”‚
â”‚  (Ğ½Ğ° 40 Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾!)           â”‚
â”‚                                     â”‚
â”‚  ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ Ğ½Ğ° ÑÑ‚Ğ¾Ğ¹ Ğ½ĞµĞ´ĞµĞ»Ğµ: #127       â”‚
â”‚  (Ğ¢Ğ¾Ğ¿-100 Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ½Ğ°Ğ³Ñ€Ğ°Ğ´Ñ‹!)        â”‚
â”‚                                     â”‚
â”‚  [  Ğ˜Ğ“Ğ ĞĞ¢Ğ¬ Ğ•Ğ©Ğ Ğ ĞĞ—  ]               â”‚
â”‚                                     â”‚
â”‚  [ Ğ›Ğ¸Ğ´ĞµÑ€Ğ±Ğ¾Ñ€Ğ´ ]  [ ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ ]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**If new personal record:**
```
ğŸ‰ ĞĞĞ’Ğ«Ğ™ Ğ Ğ•ĞšĞĞ Ğ”! ğŸ‰
+500 Ğ¼Ğ¾Ğ½ĞµÑ‚ Ğ·Ğ° Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ
```

---

## State Management (Backend)

**Game states:**
```
NOT_STARTED â†’ IN_PROGRESS â†’ GAME_OVER â†’ COMPLETED
                    â†“
                CONTINUED (back to IN_PROGRESS)
```

**State stored on backend:**
- Current question index
- Lives remaining (0-3)
- Correct answers count
- Bonus inventory state
- Continue count
- All answers history

**Frontend only tracks:**
- UI animations
- Timer visual
- Selected answer ID (before submit)

---

## Adaptive Difficulty Details

### Timer Progression
```
Questions 1-10:   15s
Questions 11-25:  12s
Questions 26-50:  10s
Questions 51-100: 8s
Questions 101+:   8s (no lower)
```

### Question Selection Algorithm
Backend selects questions:
1. Questions 1-10: `difficulty = 'easy' OR 'medium'` (80% easy, 20% medium)
2. Questions 11-30: `difficulty = 'medium'` (100%)
3. Questions 31-50: `difficulty = 'medium' OR 'hard'` (70% medium, 30% hard)
4. Questions 51+: `difficulty = 'hard'` (100%)

### Category Narrowing (Optional Enhancement)
- Early: Broad categories (Geography, History)
- Late: Narrow categories (Byzantine History, Molecular Biology)

---

## Bonus Strategy Tips (In-Game Hints)

**Shown on loading screen / first-time tutorial:**

```
ğŸ’¡ Ğ¡Ğ¾Ğ²ĞµÑ‚: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ©Ğ¸Ñ‚ ğŸ›¡ï¸ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞºĞ¾Ğ³Ğ´Ğ° Ñƒ Ñ‚ĞµĞ±Ñ 1 Ğ¶Ğ¸Ğ·Ğ½ÑŒ!

ğŸ’¡ Ğ¡Ğ¾Ğ²ĞµÑ‚: 50/50 ğŸ”€ Ğ»ÑƒÑ‡ÑˆĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ½Ğ° Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°Ñ… Ñ Ñ‡Ğ¸ÑĞ»Ğ°Ğ¼Ğ¸.

ğŸ’¡ Ğ¡Ğ¾Ğ²ĞµÑ‚: Ğ—Ğ°Ğ¼Ğ¾Ñ€Ğ¾Ğ·ĞºĞ° â„ï¸ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ° Ğ¿Ğ¾ÑĞ»Ğµ 50-Ğ³Ğ¾ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°!

ğŸ’¡ Ğ¡Ğ¾Ğ²ĞµÑ‚: ĞŸÑ€Ğ¾Ğ¿ÑƒÑĞº â­ï¸ Ğ½Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ‚ Ñ‚Ğ²Ğ¾Ñ ÑĞµÑ€Ğ¸Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ².
```

---

## Pause / Quit

**Pause NOT allowed** (integrity of run).

**Quit:**
- Shows warning: "ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¿Ğ¾Ñ‚ĞµÑ€ÑĞ½!"
- If confirmed: Game state saved as `ABANDONED`
- Cannot resume (fresh start only)

---

## Network Issues

**Disconnect during game:**
- State saved after each answer
- Can resume on reconnect (same question)
- Timer paused (server-side tracking)

**Timeout:**
- If no answer for 30+ seconds: Auto-submit empty â†’ Wrong answer

---

## Edge Cases

**Used Shield but answered correctly:**
- Shield NOT consumed (saved for later)

**Multiple bonuses on same question:**
- Can use: Freeze + 50/50 (both consumed)
- Can use: Freeze + Shield (Shield only if wrong)

**Skip after using 50/50:**
- Both bonuses consumed (50/50 already applied)

**Continue with bonuses still available:**
- Bonuses persist (not reset)
