basePath: /api/v1
definitions:
  internal_infrastructure_http_handlers.AbandonSessionRequest:
    properties:
      userId:
        type: string
    required:
    - userId
    type: object
  internal_infrastructure_http_handlers.AnswerDTO:
    properties:
      id:
        type: string
      position:
        type: integer
      text:
        type: string
    required:
    - id
    - position
    - text
    type: object
  internal_infrastructure_http_handlers.CategoryDTO:
    properties:
      id:
        type: string
      name:
        type: string
    required:
    - id
    - name
    type: object
  internal_infrastructure_http_handlers.CreateCategoryData:
    properties:
      category:
        $ref: '#/definitions/internal_infrastructure_http_handlers.CategoryDTO'
    required:
    - category
    type: object
  internal_infrastructure_http_handlers.CreateCategoryRequest:
    properties:
      name:
        type: string
    required:
    - name
    type: object
  internal_infrastructure_http_handlers.CreateCategoryResponse:
    properties:
      data:
        $ref: '#/definitions/internal_infrastructure_http_handlers.CreateCategoryData'
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.ErrorDetail:
    properties:
      code:
        type: integer
      message:
        type: string
    required:
    - code
    - message
    type: object
  internal_infrastructure_http_handlers.ErrorResponse:
    properties:
      error:
        $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorDetail'
    required:
    - error
    type: object
  internal_infrastructure_http_handlers.FinalResultDTO:
    properties:
      correctCount:
        type: integer
      maxScore:
        type: integer
      passed:
        type: boolean
      percentage:
        type: integer
      questionsCount:
        type: integer
      totalScore:
        type: integer
    required:
    - correctCount
    - maxScore
    - passed
    - percentage
    - questionsCount
    - totalScore
    type: object
  internal_infrastructure_http_handlers.GetActiveSessionData:
    properties:
      currentQuestion:
        $ref: '#/definitions/internal_infrastructure_http_handlers.QuestionDTO'
      session:
        $ref: '#/definitions/internal_infrastructure_http_handlers.SessionDTO'
      timeLimit:
        type: integer
      timeLimitPerQuestion:
        type: integer
      totalQuestions:
        type: integer
    required:
    - currentQuestion
    - session
    - timeLimit
    - timeLimitPerQuestion
    - totalQuestions
    type: object
  internal_infrastructure_http_handlers.GetActiveSessionRequest:
    properties:
      userId:
        type: string
    required:
    - userId
    type: object
  internal_infrastructure_http_handlers.GetActiveSessionResponse:
    properties:
      data:
        $ref: '#/definitions/internal_infrastructure_http_handlers.GetActiveSessionData'
    type: object
  internal_infrastructure_http_handlers.GetGlobalLeaderboardResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/internal_infrastructure_http_handlers.GlobalLeaderboardEntryDTO'
        type: array
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.GetLeaderboardResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/internal_infrastructure_http_handlers.LeaderboardEntryDTO'
        type: array
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.GetQuizDetailsData:
    properties:
      quiz:
        $ref: '#/definitions/internal_infrastructure_http_handlers.QuizDetailDTO'
      topScores:
        items:
          $ref: '#/definitions/internal_infrastructure_http_handlers.LeaderboardEntryDTO'
        type: array
    required:
    - quiz
    - topScores
    type: object
  internal_infrastructure_http_handlers.GetQuizDetailsResponse:
    properties:
      data:
        $ref: '#/definitions/internal_infrastructure_http_handlers.GetQuizDetailsData'
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.GetSessionResultsResponse:
    properties:
      data:
        $ref: '#/definitions/internal_infrastructure_http_handlers.SessionResultsData'
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.GetUserResponse:
    properties:
      data:
        $ref: '#/definitions/internal_infrastructure_http_handlers.UserDTO'
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.GlobalLeaderboardEntryDTO:
    properties:
      lastActivityAt:
        example: 1674567890
        type: integer
      quizzesCompleted:
        example: 5
        minimum: 0
        type: integer
      rank:
        example: 1
        minimum: 1
        type: integer
      totalScore:
        example: 850
        minimum: 0
        type: integer
      userId:
        example: user123
        type: string
      username:
        example: JohnDoe
        type: string
    required:
    - lastActivityAt
    - quizzesCompleted
    - rank
    - totalScore
    - userId
    - username
    type: object
  internal_infrastructure_http_handlers.LeaderboardEntryDTO:
    properties:
      completedAt:
        type: integer
      rank:
        type: integer
      score:
        type: integer
      userId:
        type: string
      username:
        type: string
    required:
    - completedAt
    - rank
    - score
    - userId
    - username
    type: object
  internal_infrastructure_http_handlers.ListCategoriesResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/internal_infrastructure_http_handlers.CategoryDTO'
        type: array
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.ListQuizzesResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/internal_infrastructure_http_handlers.QuizDTO'
        type: array
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.ListUsersResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/internal_infrastructure_http_handlers.UserDTO'
        type: array
      total:
        type: integer
    required:
    - data
    - total
    type: object
  internal_infrastructure_http_handlers.QuestionDTO:
    properties:
      answers:
        items:
          $ref: '#/definitions/internal_infrastructure_http_handlers.AnswerDTO'
        type: array
      id:
        type: string
      points:
        type: integer
      position:
        type: integer
      text:
        type: string
    required:
    - answers
    - id
    - points
    - position
    - text
    type: object
  internal_infrastructure_http_handlers.QuizDTO:
    properties:
      categoryId:
        type: string
      createdAt:
        type: integer
      description:
        type: string
      id:
        type: string
      passingScore:
        type: integer
      questionsCount:
        type: integer
      timeLimit:
        type: integer
      title:
        type: string
    required:
    - createdAt
    - id
    - passingScore
    - questionsCount
    - timeLimit
    - title
    type: object
  internal_infrastructure_http_handlers.QuizDetailDTO:
    properties:
      categoryId:
        type: string
      createdAt:
        type: integer
      description:
        type: string
      id:
        type: string
      passingScore:
        type: integer
      questions:
        items:
          $ref: '#/definitions/internal_infrastructure_http_handlers.QuestionDTO'
        type: array
      timeLimit:
        type: integer
      title:
        type: string
    required:
    - createdAt
    - id
    - passingScore
    - questions
    - timeLimit
    - title
    type: object
  internal_infrastructure_http_handlers.RegisterUserData:
    properties:
      isNewUser:
        type: boolean
      user:
        $ref: '#/definitions/internal_infrastructure_http_handlers.UserDTO'
    required:
    - isNewUser
    - user
    type: object
  internal_infrastructure_http_handlers.RegisterUserResponse:
    properties:
      data:
        $ref: '#/definitions/internal_infrastructure_http_handlers.RegisterUserData'
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.SessionDTO:
    properties:
      completedAt:
        type: integer
      currentQuestion:
        type: integer
      id:
        type: string
      quizId:
        type: string
      score:
        type: integer
      startedAt:
        type: integer
      status:
        type: string
      userId:
        type: string
    required:
    - currentQuestion
    - id
    - quizId
    - score
    - startedAt
    - status
    - userId
    type: object
  internal_infrastructure_http_handlers.SessionResultsData:
    properties:
      avgAnswerTime:
        description: seconds
        type: number
      correctAnswers:
        type: integer
      longestStreak:
        type: integer
      passed:
        type: boolean
      quiz:
        $ref: '#/definitions/internal_infrastructure_http_handlers.QuizDTO'
      scorePercentage:
        description: 0-100
        type: integer
      session:
        $ref: '#/definitions/internal_infrastructure_http_handlers.SessionDTO'
      timeSpent:
        description: seconds
        type: integer
      totalQuestions:
        type: integer
    required:
    - avgAnswerTime
    - correctAnswers
    - longestStreak
    - passed
    - quiz
    - scorePercentage
    - session
    - timeSpent
    - totalQuestions
    type: object
  internal_infrastructure_http_handlers.StartQuizData:
    properties:
      firstQuestion:
        $ref: '#/definitions/internal_infrastructure_http_handlers.QuestionDTO'
      session:
        $ref: '#/definitions/internal_infrastructure_http_handlers.SessionDTO'
      timeLimit:
        type: integer
      timeLimitPerQuestion:
        type: integer
      totalQuestions:
        type: integer
    required:
    - firstQuestion
    - session
    - timeLimit
    - timeLimitPerQuestion
    - totalQuestions
    type: object
  internal_infrastructure_http_handlers.StartQuizRequest:
    properties:
      userId:
        type: string
    required:
    - userId
    type: object
  internal_infrastructure_http_handlers.StartQuizResponse:
    properties:
      data:
        $ref: '#/definitions/internal_infrastructure_http_handlers.StartQuizData'
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.SubmitAnswerData:
    properties:
      basePoints:
        type: integer
      correctAnswerId:
        type: string
      currentStreak:
        type: integer
      finalResult:
        $ref: '#/definitions/internal_infrastructure_http_handlers.FinalResultDTO'
      isCorrect:
        type: boolean
      isQuizCompleted:
        type: boolean
      nextQuestion:
        $ref: '#/definitions/internal_infrastructure_http_handlers.QuestionDTO'
      pointsEarned:
        type: integer
      streakBonus:
        type: integer
      timeBonus:
        type: integer
      totalScore:
        type: integer
    required:
    - basePoints
    - correctAnswerId
    - currentStreak
    - isCorrect
    - isQuizCompleted
    - pointsEarned
    - streakBonus
    - timeBonus
    - totalScore
    type: object
  internal_infrastructure_http_handlers.SubmitAnswerRequest:
    properties:
      answerId:
        type: string
      questionId:
        type: string
      timeTaken:
        minimum: 0
        type: integer
      userId:
        type: string
    required:
    - answerId
    - questionId
    - timeTaken
    - userId
    type: object
  internal_infrastructure_http_handlers.SubmitAnswerResponse:
    properties:
      data:
        $ref: '#/definitions/internal_infrastructure_http_handlers.SubmitAnswerData'
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.UpdateUserProfileRequest:
    properties:
      avatarUrl:
        type: string
      email:
        type: string
      languageCode:
        type: string
      telegramUsername:
        type: string
      username:
        type: string
    type: object
  internal_infrastructure_http_handlers.UpdateUserProfileResponse:
    properties:
      data:
        $ref: '#/definitions/internal_infrastructure_http_handlers.UserDTO'
    required:
    - data
    type: object
  internal_infrastructure_http_handlers.UserDTO:
    properties:
      avatarUrl:
        type: string
      createdAt:
        type: integer
      email:
        type: string
      id:
        type: string
      isBlocked:
        type: boolean
      languageCode:
        type: string
      telegramUsername:
        type: string
      updatedAt:
        type: integer
      username:
        type: string
    required:
    - createdAt
    - id
    - isBlocked
    - languageCode
    - updatedAt
    - username
    type: object
host: localhost:3000
info:
  contact:
    email: support@quiz-sprint-tma.online
    name: API Support
    url: https://quiz-sprint-tma.online/support
  description: Quiz Sprint TMA Backend API - A Telegram Mini App for interactive quizzes
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://quiz-sprint-tma.online/terms
  title: Quiz Sprint API
  version: "1.0"
paths:
  /categories:
    get:
      consumes:
      - application/json
      description: Get a list of all available quiz categories
      produces:
      - application/json
      responses:
        "200":
          description: List of categories
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ListCategoriesResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: List all categories
      tags:
      - category
    post:
      consumes:
      - application/json
      description: Create a new quiz category
      parameters:
      - description: Category data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_infrastructure_http_handlers.CreateCategoryRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Category created
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.CreateCategoryResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Create a new category
      tags:
      - category
  /leaderboard:
    get:
      consumes:
      - application/json
      description: Get the global leaderboard across all quizzes (sum of best scores
        per quiz)
      parameters:
      - description: Number of entries to return (default 10, max 100)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Global leaderboard entries
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.GetGlobalLeaderboardResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Get global leaderboard
      tags:
      - leaderboard
  /quiz:
    get:
      consumes:
      - application/json
      description: Get a list of all available quizzes with basic information, optionally
        filtered by category.
      parameters:
      - description: Category ID to filter quizzes by
        in: query
        name: categoryId
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of quizzes
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ListQuizzesResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: List all quizzes
      tags:
      - quiz
  /quiz/{id}:
    get:
      consumes:
      - application/json
      description: Get detailed quiz information including questions, answers (without
        correct answer indicators), and top 3 leaderboard scores
      parameters:
      - description: Quiz ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Quiz details with questions and top scores
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.GetQuizDetailsResponse'
        "400":
          description: Invalid quiz ID
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "404":
          description: Quiz not found
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Get quiz details
      tags:
      - quiz
  /quiz/{id}/active-session:
    get:
      consumes:
      - application/json
      description: Retrieve the active quiz session for the current user and quiz
      parameters:
      - description: Quiz ID
        in: path
        name: id
        required: true
        type: string
      - description: User ID for authorization
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_infrastructure_http_handlers.GetActiveSessionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Active session with current question
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.GetActiveSessionResponse'
        "400":
          description: Invalid quiz or user ID
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "404":
          description: No active session found
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Get active quiz session
      tags:
      - quiz
  /quiz/{id}/leaderboard:
    get:
      consumes:
      - application/json
      description: Get the leaderboard for a specific quiz with top scores
      parameters:
      - description: Quiz ID
        in: path
        name: id
        required: true
        type: string
      - description: Number of entries to return (default 10)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Leaderboard entries
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.GetLeaderboardResponse'
        "400":
          description: Invalid quiz ID
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "404":
          description: Quiz not found
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Get quiz leaderboard
      tags:
      - quiz
  /quiz/{id}/start:
    post:
      consumes:
      - application/json
      description: Create a new quiz session for a user and return the first question
      parameters:
      - description: Quiz ID
        in: path
        name: id
        required: true
        type: string
      - description: Start quiz request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_infrastructure_http_handlers.StartQuizRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Quiz session started with first question
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.StartQuizResponse'
        "400":
          description: Invalid request or quiz ID
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "404":
          description: Quiz not found
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "409":
          description: Active session already exists
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Start a quiz session
      tags:
      - quiz
  /quiz/session/{sessionId}:
    delete:
      consumes:
      - application/json
      description: Delete an active quiz session, allowing the user to start fresh
      parameters:
      - description: Session ID
        in: path
        name: sessionId
        required: true
        type: string
      - description: User ID for authorization
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_infrastructure_http_handlers.AbandonSessionRequest'
      produces:
      - application/json
      responses:
        "204":
          description: Session abandoned successfully
        "400":
          description: Invalid session ID
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "401":
          description: Unauthorized - session belongs to another user
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "404":
          description: Session not found
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Abandon a quiz session
      tags:
      - quiz
    get:
      consumes:
      - application/json
      description: Get detailed results for a quiz session including statistics and
        quiz info
      parameters:
      - description: Session ID
        in: path
        name: sessionId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Session results with statistics
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.GetSessionResultsResponse'
        "400":
          description: Invalid session ID
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "404":
          description: Session not found
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Get session results
      tags:
      - quiz
  /quiz/session/{sessionId}/answer:
    post:
      consumes:
      - application/json
      description: Submit an answer for a question in an active quiz session
      parameters:
      - description: Session ID
        in: path
        name: sessionId
        required: true
        type: string
      - description: Submit answer request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_infrastructure_http_handlers.SubmitAnswerRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Answer result with correctness, points, and next question or
            final result
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.SubmitAnswerResponse'
        "400":
          description: Invalid request, session completed, or already answered
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "401":
          description: Unauthorized - user mismatch
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "404":
          description: Session, question, or answer not found
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Submit an answer
      tags:
      - quiz
  /user/{id}:
    get:
      consumes:
      - application/json
      description: Retrieve user profile by Telegram user ID
      parameters:
      - description: User ID (Telegram ID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: User profile
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.GetUserResponse'
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Get user by ID
      tags:
      - user
    put:
      consumes:
      - application/json
      description: Update user profile information
      parameters:
      - description: User ID (Telegram ID)
        in: path
        name: id
        required: true
        type: string
      - description: Updated profile data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_infrastructure_http_handlers.UpdateUserProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated user profile
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.UpdateUserProfileResponse'
        "400":
          description: Invalid request body or user ID
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Update user profile
      tags:
      - user
  /user/by-username/{username}:
    get:
      consumes:
      - application/json
      description: Retrieve user profile by Telegram @username
      operationId: GetUserByUsername
      parameters:
      - description: Telegram username (without @)
        in: path
        name: username
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: User profile
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.GetUserResponse'
        "400":
          description: Invalid username
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: Get user by Telegram username
      tags:
      - user
  /user/register:
    post:
      consumes:
      - application/json
      description: Register a new user from Telegram Mini App or update existing user
        profile (idempotent). Requires valid Telegram init data in Authorization header.
      produces:
      - application/json
      responses:
        "200":
          description: User registered or updated
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.RegisterUserResponse'
        "401":
          description: Invalid or missing Telegram authorization
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      security:
      - TelegramAuth: []
      summary: Register or update user
      tags:
      - user
  /users:
    get:
      consumes:
      - application/json
      description: Get a paginated list of all users
      parameters:
      - description: Limit (default 50, max 100)
        in: query
        name: limit
        type: integer
      - description: Offset (default 0)
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of users
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ListUsersResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_infrastructure_http_handlers.ErrorResponse'
      summary: List all users (Admin)
      tags:
      - user
schemes:
- http
- https
swagger: "2.0"
